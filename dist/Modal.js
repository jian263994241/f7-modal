"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _extends2=require("babel-runtime/helpers/extends"),_extends3=_interopRequireDefault(_extends2),_defineProperty2=require("babel-runtime/helpers/defineProperty"),_defineProperty3=_interopRequireDefault(_defineProperty2),_objectWithoutProperties2=require("babel-runtime/helpers/objectWithoutProperties"),_objectWithoutProperties3=_interopRequireDefault(_objectWithoutProperties2),_getPrototypeOf=require("babel-runtime/core-js/object/get-prototype-of"),_getPrototypeOf2=_interopRequireDefault(_getPrototypeOf),_classCallCheck2=require("babel-runtime/helpers/classCallCheck"),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=require("babel-runtime/helpers/createClass"),_createClass3=_interopRequireDefault(_createClass2),_possibleConstructorReturn2=require("babel-runtime/helpers/possibleConstructorReturn"),_possibleConstructorReturn3=_interopRequireDefault(_possibleConstructorReturn2),_inherits2=require("babel-runtime/helpers/inherits"),_inherits3=_interopRequireDefault(_inherits2),_class,_temp2,_react=require("react"),_react2=_interopRequireDefault(_react),_propTypes=require("prop-types"),_propTypes2=_interopRequireDefault(_propTypes),_classnames2=require("classnames"),_classnames3=_interopRequireDefault(_classnames2),_rcMounter=require("rc-mounter"),_rcMounter2=_interopRequireDefault(_rcMounter),_OverLay=require("./OverLay"),_OverLay2=_interopRequireDefault(_OverLay),_styles=require("./styles"),_styles2=_interopRequireDefault(_styles),Modal=(_temp2=_class=function(e){function t(){var e,r,s,o;_classCallCheck3.default(this,t);for(var l=arguments.length,a=Array(l),i=0;l>i;i++)a[i]=arguments[i];return r=s=_possibleConstructorReturn3.default(this,(e=t.__proto__||_getPrototypeOf2.default(t)).call.apply(e,[this].concat(a))),s.state={css:""},s.getModal=function(){return s.refs.modal},s.update=function(){var e=s.props,t=e.visible,r=(e.afterClose,e.fixTop,s.refs.modal);t?(r.style.display="block",setTimeout(function(){s.fixTop(),r.classList.remove(_styles2.default["modal-out"]),r.classList.add(_styles2.default["modal-in"])},150)):(r.classList.add(_styles2.default["modal-out"]),r.classList.remove(_styles2.default["modal-in"]))},s.fixTop=function(){if(s.props.fixTop){var e=s.refs.modal,t=-Math.round(e.offsetHeight/2)-8;e.style.marginTop=t+"px"}},s.getMounter=function(){return s.refs.wrapper},s._transitionEnd=function(){var e=s.props,t=e.visible,r=e.afterClose,o=s.refs.modal;t||(o.style.display="none",r&&r())},o=r,_possibleConstructorReturn3.default(s,o)}return _inherits3.default(t,e),_createClass3.default(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(e){this.props.visible!=e.visible&&this.update()}},{key:"render",value:function(){var e,t=this.props,r=t.className,s=t.containerCss,o=t.visible,l=t.onCancel,a=t.overlay,i=(t.afterClose,t.closeByOutside),u=t.mounter,n=(t.root,t.type),p=(t.fixTop,t.ignore),d=t.children,f=t.style,_=_objectWithoutProperties3.default(t,["className","containerCss","visible","onCancel","overlay","afterClose","closeByOutside","mounter","root","type","fixTop","ignore","children","style"]),c=_classnames3.default((e={},_defineProperty3.default(e,_styles2.default.modal,"modal"===n||"toast"===n||"preloader"===n),_defineProperty3.default(e,_styles2.default.popup,"popup"===n),_defineProperty3.default(e,_styles2.default["actions-modal"],"actions"===n),_defineProperty3.default(e,_styles2.default["picker-modal"],"picker"===n),_defineProperty3.default(e,_styles2.default.popover,"popover"===n),_defineProperty3.default(e,_styles2.default["modal-no-buttons"],"toast"===n),_defineProperty3.default(e,_styles2.default["preloader-modal"],"preloader"===n),_defineProperty3.default(e,_styles2.default.toast,"toast"===n),e),r),y=u?_rcMounter2.default:"div";return _react2.default.createElement(y,{className:s,ref:"wrapper"},_react2.default.createElement("div",_extends3.default({className:c,ref:"modal",style:_extends3.default({display:"none"},f),onTransitionEnd:this._transitionEnd},_),d),a&&_react2.default.createElement(_OverLay2.default,{visible:o,type:n,onClick:i&&l,ignore:p,modal:this.refs.modal}))}}]),t}(_react.Component),_class.uiName="Modal",_class.defaultProps={visible:!1,fixTop:!0,type:"modal",closeByOutside:!0,overlay:!0,mounter:!0},_class.propTypes={visible:_propTypes2.default.bool,afterClose:_propTypes2.default.func,onCancel:_propTypes2.default.func,closeByOutside:_propTypes2.default.bool,className:_propTypes2.default.string,containerCss:_propTypes2.default.string,fixTop:_propTypes2.default.bool,mounter:_propTypes2.default.bool,overlay:_propTypes2.default.bool},_temp2);exports.default=Modal;